<!-- Notification Dropdown -->
<div class="dropdown" id="notification-dropdown">
  <a
    class="nav-link dropdown-toggle"
    href="#"
    role="button"
    data-bs-toggle="dropdown"
    aria-expanded="false"
    id="notification-toggle"
  >
    <i class="bi bi-bell fs-5"></i>
    <span
      class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
      id="notification-badge"
    >
      0
    </span>
  </a>

  <div
    class="dropdown-menu dropdown-menu-end notification-dropdown"
    aria-labelledby="notification-toggle"
    style="width: 350px; max-height: 400px; overflow-y: auto"
  >
    <div
      class="dropdown-header d-flex justify-content-between align-items-center"
    >
      <h6 class="mb-0">Notifications</h6>
      <button
        class="btn btn-sm btn-outline-secondary"
        onclick="markAllNotificationsRead()"
      >
        Mark all read
      </button>
    </div>
    <div class="dropdown-divider"></div>

    <div id="notifications-list">
      <!-- Notifications will be populated here -->
      <div class="text-center text-muted py-3">
        <i class="bi bi-bell-slash fs-4"></i>
        <p class="mb-0">No notifications</p>
      </div>
    </div>

    <div class="dropdown-divider"></div>
    <div class="dropdown-item text-center">
      <a href="/admin/notifications" class="text-decoration-none"
        >View all notifications</a
      >
    </div>
  </div>
</div>

<style>
  .notification-dropdown {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(0, 0, 0, 0.125);
  }

  .notification-item {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid #f8f9fa;
    cursor: pointer;
    transition: background-color 0.15s ease-in-out;
  }

  .notification-item:hover {
    background-color: #f8f9fa;
  }

  .notification-item:last-child {
    border-bottom: none;
  }

  .notification-item.unread {
    background-color: #e3f2fd;
    border-left: 3px solid #2196f3;
  }

  .notification-item.unread:hover {
    background-color: #bbdefb;
  }

  .notification-message {
    font-size: 0.875rem;
    margin-bottom: 0.25rem;
    line-height: 1.4;
  }

  .notification-meta {
    font-size: 0.75rem;
    color: #6c757d;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .notification-type {
    padding: 0.125rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .notification-type.success {
    background-color: #d4edda;
    color: #155724;
  }

  .notification-type.info {
    background-color: #d1ecf1;
    color: #0c5460;
  }

  .notification-type.warning {
    background-color: #fff3cd;
    color: #856404;
  }

  .notification-type.error {
    background-color: #f8d7da;
    color: #721c24;
  }

  #notification-badge {
    font-size: 0.75rem;
    min-width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    transform: translate(-50%, -50%);
  }
</style>
